<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title id="page-title">Pong Game - ç®€æ˜“ä¹’ä¹“</title>
  <meta name="description" id="page-description" content="ä¸€ä¸ªç»å…¸çš„ä¹’ä¹“çƒæ¸¸æˆï¼Œä½¿ç”¨é¼ æ ‡æ§åˆ¶ä½ çš„æŒ¡æ¿ï¼ŒæŒ‘æˆ˜ä¸åŒéš¾åº¦çš„ç”µè„‘å¯¹æ‰‹ï¼">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
  <style>
    #controls-container {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1000;
    }
    #controls-container button {
      padding: 8px 12px;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #controls-container button:hover {
      background-color: #555;
    }
  </style>
</head>
<body>
  <div id="controls-container">
    <button id="lang-switcher" data-lang-zh="Switch to Chinese" data-lang-en="åˆ‡æ¢åˆ°è‹±æ–‡">åˆ‡æ¢åˆ°è‹±æ–‡</button>
    <button id="theme-switcher" title="åˆ‡æ¢ä¸»é¢˜" aria-label="åˆ‡æ¢ä¸»é¢˜">åˆ‡æ¢ä¸»é¢˜</button>
  </div>
  <header>
    <h1 id="game-title">Pong Game - ç®€æ˜“ä¹’ä¹“</h1>
    <p id="game-description">ä¸€ä¸ªç»å…¸çš„ä¹’ä¹“çƒæ¸¸æˆï¼Œä½¿ç”¨é¼ æ ‡æ§åˆ¶ä½ çš„æŒ¡æ¿ï¼ŒæŒ‘æˆ˜ä¸åŒéš¾åº¦çš„ç”µè„‘å¯¹æ‰‹ï¼</p>
  </header>
  <div id="instructions-container">
    <h2 id="instructions-title"></h2>
    <ul id="instructions-list"></ul>
  </div>
  <div id="game-container">
    <canvas id="pong" width="800" height="500"></canvas>
    <div id="ui">
      <div id="scoreboard">
        <span id="score-left">0</span>
        <span> : </span>
        <span id="score-right">0</span>
      </div>
      <div id="win-message" class="hidden"></div>
    </div>
  </div>
  <div id="controls-bottom-container">
    <div id="controls">
      <button id="pause-btn" data-lang-zh="æš‚åœ" data-lang-en="Pause">æš‚åœ</button>
      <button id="restart-btn" data-lang-zh="é‡æ–°å¼€å§‹" data-lang-en="Restart">é‡æ–°å¼€å§‹</button>
      <button id="mode-toggle-btn" data-lang-zh="åˆ‡æ¢åˆ°AIæ¨¡å¼" data-lang-en="Switch to AI Mode">åˆ‡æ¢åˆ°AIæ¨¡å¼</button>
      <select id="difficulty">
        <option value="easy" data-lang-zh="ç®€å•" data-lang-en="Easy">ç®€å•</option>
        <option value="normal" selected data-lang-zh="æ™®é€š" data-lang-en="Normal">æ™®é€š</option>
        <option value="hard" data-lang-zh="å›°éš¾" data-lang-en="Hard">å›°éš¾</option>
      </select>
    </div>
  </div>
  <script src="pong.js"></script>
  <script>
    const translations = {
      'zh-CN': {
        'page-title': 'Pong Game - ç®€æ˜“ä¹’ä¹“',
        'page-description': 'ä¸€ä¸ªç»å…¸çš„ä¹’ä¹“çƒæ¸¸æˆï¼Œä½¿ç”¨é¼ æ ‡æ§åˆ¶ä½ çš„æŒ¡æ¿ï¼ŒæŒ‘æˆ˜ä¸åŒéš¾åº¦çš„ç”µè„‘å¯¹æ‰‹ï¼',
        'lang-switcher-text': 'åˆ‡æ¢åˆ°è‹±æ–‡',
        'game-title': 'Pong Game - ç®€æ˜“ä¹’ä¹“',
        'game-description': 'ä¸€ä¸ªç»å…¸çš„ä¹’ä¹“çƒæ¸¸æˆï¼Œä½¿ç”¨é¼ æ ‡æ§åˆ¶ä½ çš„æŒ¡æ¿ï¼ŒæŒ‘æˆ˜ä¸åŒéš¾åº¦çš„ç”µè„‘å¯¹æ‰‹ï¼',
        'pause-btn': 'æš‚åœ',
        'resume-btn': 'ç»§ç»­',
        'restart-btn': 'é‡æ–°å¼€å§‹',
        'difficulty-easy': 'ç®€å•',
        'difficulty-normal': 'æ™®é€š',
        'difficulty-hard': 'å›°éš¾',
        'mode-toggle-btn-ai': 'åˆ‡æ¢åˆ°AIæ¨¡å¼',
        'mode-toggle-btn-2p': 'åˆ‡æ¢åˆ°åŒäººæ¨¡å¼',
        'win-message-left': 'å·¦è¾¹ç©å®¶èƒœåˆ©ï¼ğŸ‰',
        'win-message-right': 'å³è¾¹ç©å®¶èƒœåˆ©ï¼ğŸ†',
        'win-message-player': 'ä½ èµ¢äº†ï¼ğŸ‰',
        'win-message-cpu': 'ç”µè„‘èƒœåˆ©ï¼ğŸ’»',
        'footer-text': '&copy; ç”± Github Copilot åä½œåˆ¶ä½œ',
        'instructions-title': 'æ¸¸æˆè¯´æ˜',
        'instructions-ai-mode': 'AI æ¨¡å¼ï¼šä½¿ç”¨é¼ æ ‡æ§åˆ¶å·¦ä¾§æŒ¡æ¿ï¼Œä¸ç”µè„‘å¯¹æˆ˜ã€‚W/S é”®æˆ–é¼ æ ‡ä¸Šä¸‹ç§»åŠ¨æ§åˆ¶æŒ¡æ¿ã€‚',
        'instructions-2p-mode': 'åŒäººæ¨¡å¼ï¼šå·¦è¾¹ç©å®¶ä½¿ç”¨ W/S é”®æ§åˆ¶ï¼Œå³è¾¹ç©å®¶ä½¿ç”¨ â†‘/â†“ é”®æ§åˆ¶ã€‚',
        'theme-switcher-to-light': 'åˆ‡æ¢åˆ°ç™½å¤©æ¨¡å¼',
        'theme-switcher-to-dark': 'åˆ‡æ¢åˆ°é»‘å¤œæ¨¡å¼'
      },
     'en': {
        'page-title': 'Pong Game',
        'page-description': 'A classic Pong game. Control your paddle with the mouse and challenge computer opponents of varying difficulty!',
        'lang-switcher-text': 'Switch to Chinese',
        'game-title': 'Pong Game',
        'game-description': 'A classic Pong game. Control your paddle with the mouse and challenge computer opponents of varying difficulty!',
        'pause-btn': 'Pause',
        'resume-btn': 'Resume',
        'restart-btn': 'Restart',
        'difficulty-easy': 'Easy',
        'difficulty-normal': 'Normal',
        'difficulty-hard': 'Hard',
        'mode-toggle-btn-ai': 'Switch to AI Mode',
        'mode-toggle-btn-2p': 'Switch to 2P Mode',
        'win-message-left': 'Left Player Wins! ğŸ‰',
        'win-message-right': 'Right Player Wins! ğŸ†',
        'win-message-player': 'You Win! ğŸ‰',
        'win-message-cpu': 'CPU Wins! ğŸ’»',
        'footer-text': '&copy; 2024 Created in collaboration with Github Copilot',
        'instructions-title': 'Instructions',
        'instructions-ai-mode': 'AI Mode: Control the left paddle with your mouse or W/S keys to play against the computer.',
        'instructions-2p-mode': '2P Mode: Left player uses W/S keys, Right player uses â†‘/â†“ keys.',
        'theme-switcher-to-light': 'Switch to Light Mode',
        'theme-switcher-to-dark': 'Switch to Dark Mode'
      }
    };

    let currentLang = 'zh-CN';
    const langSwitcherButton = document.getElementById('lang-switcher');
    const themeSwitcherButton = document.getElementById('theme-switcher');

    function setLanguage(lang) {
      currentLang = lang;
      document.documentElement.lang = lang;
      document.getElementById('page-title').textContent = translations[lang]['page-title'];
      const descMeta = document.querySelector('meta[name="description"]');
      if(descMeta) descMeta.content = translations[lang]['page-description'];
      
      langSwitcherButton.textContent = translations[lang]['lang-switcher-text'];
      langSwitcherButton.setAttribute('data-lang-zh', translations['zh-CN']['lang-switcher-text']);
      langSwitcherButton.setAttribute('data-lang-en', translations['en']['lang-switcher-text']);

      document.getElementById('game-title').textContent = translations[lang]['game-title'];
      document.getElementById('game-description').textContent = translations[lang]['game-description'];
      
      const pauseBtn = document.getElementById('pause-btn');
      pauseBtn.textContent = translations[lang]['pause-btn'];

      const restartBtn = document.getElementById('restart-btn');
      restartBtn.textContent = translations[lang]['restart-btn'];

      const difficultySelect = document.getElementById('difficulty');
      difficultySelect.querySelector('option[value="easy"]').textContent = translations[lang]['difficulty-easy'];
      difficultySelect.querySelector('option[value="normal"]').textContent = translations[lang]['difficulty-normal'];
      difficultySelect.querySelector('option[value="hard"]').textContent = translations[lang]['difficulty-hard'];

      const modeToggleButton = document.getElementById('mode-toggle-btn');
      if (modeToggleButton && typeof gameMode !== 'undefined') {
        modeToggleButton.textContent = gameMode === 'ai' ? translations[lang]['mode-toggle-btn-2p'] : translations[lang]['mode-toggle-btn-ai'];
      }

      const pauseButton = document.getElementById('pause-btn');
      if (pauseButton && typeof game !== 'undefined' && game.running) {
         pauseButton.textContent = game.paused ? translations[lang]['resume-btn'] : translations[lang]['pause-btn'];
      } else if (pauseButton) {
         pauseButton.textContent = translations[lang]['pause-btn'];
      }

      document.getElementById('footer-text').innerHTML = translations[lang]['footer-text'];

      document.getElementById('instructions-title').textContent = translations[lang]['instructions-title'];
      const instructionsList = document.getElementById('instructions-list');
      instructionsList.innerHTML = `<li>${translations[lang]['instructions-ai-mode']}</li>
        <li>${translations[lang]['instructions-2p-mode']}</li>`;

      if (themeSwitcherButton && translations[lang]) {
        const currentTheme = document.body.classList.contains('light-theme') ? 'light' : 'dark';
        themeSwitcherButton.textContent = currentTheme === 'dark' ? translations[lang]['theme-switcher-to-light'] : translations[lang]['theme-switcher-to-dark'];
      }
    }

    langSwitcherButton.addEventListener('click', () => {
      const newLang = currentLang === 'zh-CN' ? 'en' : 'zh-CN';
      setLanguage(newLang);
    });

    function applyTheme(theme) {
      if (theme === 'light') {
        document.body.classList.add('light-theme');
        document.body.classList.remove('dark-theme');
      } else {
        document.body.classList.remove('light-theme');
        document.body.classList.add('dark-theme');
      }
      if (themeSwitcherButton && translations[currentLang]) {
         themeSwitcherButton.textContent = theme === 'dark' ? translations[currentLang]['theme-switcher-to-light'] : translations[currentLang]['theme-switcher-to-dark'];
      }
    }

    themeSwitcherButton.addEventListener('click', () => {
      const newTheme = document.body.classList.contains('light-theme') ? 'dark' : 'light';
      applyTheme(newTheme);
      localStorage.setItem('theme', newTheme);
    });

    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      applyTheme(savedTheme);
      setLanguage(currentLang);
    });
  </script>
  <footer>
    <p id="footer-text">&copy; 2025 ç”± Github Copilot åä½œåˆ¶ä½œ </p>
  </footer>
</body>
</html>